< [Início](/README.md)

<img src="/_assets/Horizontal-colorido.png" alt="Logo da Ambiental Media" style="float:right vertical-align:middle" height="50em"><img src="/_assets/LOGO-FINAL-capi.png" alt="Logo da Capí, um rosto de uma capivara sorrindo" style="float:left vertical-align:middle" height="50em">

# Histórico do Projeto

## Pesquisa e Prototipação

### Mentorias

**A mentoria como catalisadora da inovação**

Primeiro, a equipe da Ambiental Media responsável pela Capí participou de um programa de mentorias técnicas e pedagógicas. 

Na área técnica, contamos com uma série de sessões com Bruno Fávero, diretor de inovação do Aos Fatos e responsável pelo chatbot Fátima. Fávero trouxe um direcionamento estratégico importante para a definição da arquitetura do sistema, para a escolha das tecnologias mais adequadas e para a resolução de desafios complexos relacionados à inteligência artificial. 

Paralelamente, foram realizadas mentorias pedagógicas com a jornalista e pesquisadora em educação Camila Leporace. As sessões tiveram o objetivo de fazer da Capí uma ferramenta útil e atraente para professores e estudantes. 

Por meio de pesquisas e testes com usuários, a equipe conseguiu identificar as necessidades e expectativas do público-alvo, adaptando a interface e as funcionalidades da plataforma para atender a essas demandas.

### Pesquisa

A equipe trabalhou em diferentes frentes de pesquisa a fim de entender questões como as necessidades dos usuários e as soluções tecnológicas disponíveis.

#### Pesquisas de mercado e interfaces com o usuário

Foram realizadas pesquisas sobre as melhores práticas em design de interfaces conversacionais, como estudos sobre a usabilidade, a acessibilidade e as preferências dos usuários. A equipe analisou ainda as interfaces de outros assistentes virtuais, entre eles o chatbot Fátima, produzido pelo Aos Fatos, e o NOA, do Instituto Talanoa.

#### Pesquisas técnicas sobre arquitetura de assistentes virtuais

Foram realizadas ainda pesquisas sobre as diferentes arquiteturas de sistemas de conversação, as melhores práticas em processamento de linguagem natural e as ferramentas disponíveis para desenvolver modelos de linguagem.

A equipe avaliou opções de plataformas de desenvolvimento, frameworks e bibliotecas de software, considerando aspectos como escalabilidade, custo, facilidade de uso e integração com outras ferramentas. A escolha da arquitetura ideal foi fundamental para garantir o desempenho e a robustez do sistema.

#### Pesquisas sobre ferramentas e serviços

O mercado oferece uma ampla variedade de ferramentas e serviços que podem ser utilizados para o desenvolvimento de assistentes virtuais, como para a construção de interfaces conversacionais, plataformas de desenvolvimento de modelos de linguagem, serviços de armazenamento de dados e ferramentas de análise de dados.

Após uma pesquisa para identificar as soluções mais adequadas, a equipe fez as escolhas levando em conta critérios técnicos, econômicos e de compatibilidade com a arquitetura do sistema.

### Consultoria Jurídica

O chatbot contou com uma consultoria jurídica para garantir a conformidade do projeto às leis e regulamentações vigentes, protegendo tanto a plataforma quanto os usuários. Desta forma, a equipe foi capacitada para gerenciar riscos legais e tomar decisões mais seguras e estratégicas.

**Termos de uso e licenças**

Algumas das ações foram:

* Mapeamento detalhado das fontes, com identificação dos termos de uso, licenças e restrições específicas de cada uma;
* Análise jurídica dos termos de uso e licenças para identificar as obrigações e restrições legais associadas ao uso dos dados;
* Adaptação do modelo de linguagem, mapeando itens que necessitavam de ajustes para garantir que as respostas geradas estivessem em conformidade com as restrições legais e éticas.

### Prototipação

**Da ideia à materialidade**

Por meio da criação de protótipos, a equipe conseguiu tangibilizar a visão inicial, testar hipóteses e coletar feedbacks valiosos para aprimorar a solução. Desta forma, foi possível reduzir riscos ao identificar e corrigir problemas nas fases iniciais, além de aumentar a agilidade e melhorar a qualidade.

A prova de conceito (POC, na sigla em inglês para proof of concept) representou o primeiro passo nessa jornada. Ao simular as interações básicas do usuário com o chatbot, a equipe pôde validar a execução técnica do sistema idealizado.

Com a POC foi possível:

* Testar e validar a arquitetura do sistema, permitindo identificar e corrigir possíveis problemas de design e implementação;
* Depois de experimentar diferentes tecnologias, a equipe pôde escolher aquelas que melhor se adaptavam às necessidades do projeto;
* Demonstrar a viabilidade da Capí a stakeholders e garantir o apoio necessário para sua continuidade.

<p align="center"><img src="_assets/poc-assistente-virtual-capi.png" alt="Imagem de exemplo da tela inicial da POC quando foi disponibilizada no ar." style="vertical-align:middle" height="160em"></p>

Em paralelo à POC, a equipe desenvolveu um protótipo da interface do usuário, utilizando wireframes de baixa fidelidade. Essa representação visual simplificada permitiu visualizar a experiência do usuário de forma intuitiva e identificar oportunidades de melhoria. O protótipo foi apresentado a um grupo de usuários para a coleta de feedbacks sobre usabilidade e navegabilidade.

A prototipação iterativa permitiu que a Capí se tornasse uma ferramenta intuitiva. A cada ciclo, a equipe refinava o design da interface, ajustava as funcionalidades e coletava novos feedbacks.

<p align="center"><img src="_assets/wireframe-lo-fi-assistente-virtual-capi.png" alt="Imagem de exemplo do Wireframe de baixa fidelidade." style="vertical-align:middle" height="160em"></p>

## Desenvolvimento

A elaboração de projetos detalhados se mostrou essencial para garantir o alinhamento das diferentes equipes envolvidas e para tornar possível transformar uma ideia inovadora em uma solução de alta qualidade.

### Elaboração dos projetos definitivos

#### Interface com o usuário (UI)

Com base no wireframe de baixa fidelidade, elaborado nas etapas iniciais, a equipe de design deu vida à interface da Capí por meio do Figma, com todas as telas, fluxos de navegação e conteúdos que compõem a experiência do usuário. 

O projeto de UI serviu como um guia preciso para os desenvolvedores front-end, que puderam compreender a estrutura e a hierarquia das informações, implementar os componentes visuais, além de resolver dúvidas e garantir que a implementação estivesse alinhada com a visão original.

<p align="center"><img src="_assets/projeto-interface-usuario-assistente-virtual-capi.png" alt="Imagem de exemplo do projeto de interface de usuario no Figma." style="vertical-align:middle" height="160em"></p>

#### A arquitetura de sistema

Paralelamente ao desenvolvimento da interface, a equipe técnica elaborou o projeto de arquitetura de sistema. Baseado na arquitetura validada na POC, este projeto detalhou os componentes do sistema, suas interações e os fluxos de informações.

Desta forma, foi possível definir a estrutura do projeto e estabelecer relações entre os componentes, como a forma como eles se comunicam e trocam informações.

<p align="center"><img src="/sistema/_assets/arquitetura-assistente-virtual-capi.drawio.png" alt="Imagem de exemplo do projeto de interface de usuario no Figma." style="vertical-align:middle" height="160em"></p>

### Execução e Desenvolvimento

Nesta etapa, atividades foram realizadas para garantir que a Capí atendesse aos requisitos técnicos e funcionais estabelecidos. Para isso, houve a combinação de uma base de dados robusta, um modelo de linguagem avançado e uma arquitetura de software escalável.

#### Fontes de dados

A escolha das fontes que compõem a base de dados da Capí foi uma parte importante do trabalho e tem sido realizada pelos editores da Ambiental Media. Dois grupos de fontes foram incorporados em um primeiro momento: as reportagens e textos publicados pela Ambiental Media e os relatórios de avaliação do IPCC. 

A partir de então, outras fontes começaram a ser incorporadas por sugestão de cientistas consultados pelos editores. Por fim, após sessões de grupos focais com potenciais usuários da Capí, jornalistas e professores do ensino médio, foram identificadas lacunas nas respostas do robô, que foram preenchidas com a inclusão de outras fontes de dados obtidas através de pesquisa bibliográfica.

Antes de serem alimentados no sistema, os arquivos dos estudos, relatórios, notas técnicas, livros e artigos passaram por um processo automatizado para serem formatados de uma maneira adequada para o treinamento dos modelos de linguagem.


#### Preparação de conteúdo para o *prompt tuning*

Para garantir que a Capí interagisse com os usuários de forma natural e eficiente, foi necessário um processo de "aprendizado" denominado *prompt tuning*, com a criação de diversos tipos de conteúdo, como:

* Exemplos de textos de conversação: esses textos simularam conversas entre a Capí e um usuário, ajudando a "ensinar" à ferramenta o tom de voz, a formalidade e a maneira de abordar diferentes assuntos;
* Listas de perguntas e respostas ideais: essas listas elaboradas pelos editores do projeto foram alimentadas no sistema para ensinar a Capí a lidar com perguntas complexas, com viés, conteúdo malicioso ou que fugissem do escopo de atuação da ferramenta.

#### Provisionamento da infraestrutura em nuvem

A equipe de infraestrutura provisionou todos os recursos computacionais necessários para o funcionamento da aplicação, incluindo redes, balanceadores de carga, segmentação de ambientes, bancos de dados, recursos serverless, serviços de armazenamento, entre outros.

#### Provisionamento e configuração das esteiras de DevOps

Para garantir um ciclo de desenvolvimento ágil, seguro e contínuo, foram implementadas esteiras de DevOps, que automatizaram diversas tarefas, como a construção, o teste e a implantação da aplicação, reduzindo o tempo de desenvolvimento e aumentando a qualidade do software.

#### Execução do front-end e back-end

A interface visual da Capí, projetada no Figma, foi implementada utilizando a tecnologia Next.js. Essa escolha permitiu a criação de uma interface rápida, responsiva e com excelente desempenho. O back-end, também desenvolvido com Next.js, foi responsável por integrar a inteligência artificial à interface, permitindo que os usuários interagissem com a Capí de forma natural e intuitiva.

#### Execução da inteligência artificial

A Capí utiliza o grande modelo de linguagem (LLM, na sigla em inglês para *Large Language Model*) do Gemini, oferecido pelo Google, pareado com a técnica de geração aumentada de recuperação (RAG, na sigla em inglês para *retrieval-augmented generation*). Mais detalhes sobre os detalhes técnicos podem ser encontrados na página de Sistema deste repositório.

## Controle de qualidade

A pesquisa de UX garantiu que a ferramenta fosse desenvolvida com foco nas necessidades dos usuários. Já na etapa de desenvolvimento, a solução passou por um processo de controle de qualidade que envolveu grupos focais, testes no protótipo, coleta e análise dos registros de uso.

### Testes com usuários

#### Pesquisa de interface com o usuário

Na etapa de pesquisa de interface com o usuário (UX), realizamos atividades de pesquisa qualitativa para coletar percepções de potenciais usuários, principalmente professores e jornalistas.

Primeiro, um grupo focal realizado de maneira remoto com oito professores do ensino médio permitiu identificar os principais desafios enfrentados no combate à desinformação e a necessidade de ferramentas mais eficazes para engajar os alunos sobre questões ambientais.

A partir desse primeiro contato com o público-alvo, foi possível elaborar uma lista inicial de funcionalidades para o chatbot e um conjunto de perguntas que pudessem orientar os usuários menos familiarizados com a tecnologia.

A etapa seguinte envolveu a realização de testes com a prova de conceito (POC) da plataforma. Dois grupos, um de professores e outro de jornalistas, foram convidados a testar a ferramenta de forma independente, fornecendo feedbacks sobre a usabilidade, a relevância das informações e a clareza da interface. A análise dos logs de conversa permitiu identificar as principais dúvidas e necessidades dos usuários, enriquecendo ainda mais a base de conhecimento da Capí.

Com base nos resultados, a equipe realizou outras quatro dinâmicas de grupos focais, duas com professores e duas com jornalistas. Nessas sessões, os participantes foram instados a usar o protótipo da Capí durante a dinâmica. Entre os feedbacks coletados estavam dificuldades de navegação, mensagens de erro e lacunas de informações nas bases de dados. Também foi possível identificar quais tópicos costumam despertar o interesse desses grupos.

Em paralelo às atividades de pesquisa, a equipe de design trabalhou na criação da identidade visual da Capí e na elaboração de wireframes e protótipos de alta fidelidade. Ao longo de todo o processo, a equipe manteve o foco na experiência do usuário.

### Testes de Tecnologia

#### Observação e análise dos logs do sistema

Uma das principais formas utilizadas para garantir a qualidade do Capí foi a análise dos logs do sistema (registros de todas as interações com o robô, incluindo perguntas e respostas). Durante e após os testes com os usuários, os logs foram observados para identificar pontos de falha como erros e exceções que impediam o funcionamento correto do sistema; instabilidades e problemas de desempenho, como lentidão ou travamentos; e padrões de uso.

#### Ferramentas de qualidade e segurança

Para complementar a análise dos logs, foram utilizadas outras ferramentas de qualidade e segurança, visando testar alguns aspectos do sistema. Foram analisados a integração dos componentes do sistema, vulnerabilidades a agentes maliciosos e capacidade de carga. Por fim, foi feita uma análise geral do código estático e da infraestrutura provisionada.

#### Mapeamento, triagem e plano de ação

Os problemas identificados durante os testes e as análises foram mapeados e classificados por ordem de prioridade, considerando o impacto do problema na experiência do usuário e na estabilidade do sistema. Com base nessa classificação, foi elaborado um plano de ação, definindo as tarefas necessárias para corrigir os bugs, implementar as melhorias e garantir a qualidade do sistema.

#### Correções e Melhorias

O plano de ação está sendo executado de forma incremental, com as correções e melhorias sendo implementadas em diferentes fases. A cada nova versão do sistema, novos testes são realizados para verificar se os problemas foram resolvidos e se novas funcionalidades estão funcionando corretamente.

